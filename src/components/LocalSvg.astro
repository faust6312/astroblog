---
// props: src (SVG路径), alt, 其它
const { src, alt = "", ...rest } = Astro.props;
import fs from "node:fs";
import path from "node:path";

const svgPath = path.join(Astro.srcDir.pathname, "../public", src);
let svgContent = "";
try {
  svgContent = fs.readFileSync(svgPath, "utf-8");
} catch (e) {
  svgContent = `<svg viewBox="0 0 24 24"><text x="0" y="12" font-size="12" fill="red">SVG Not Found</text></svg>`;
}
---

<span class="inline-block" aria-label={alt} {...rest}>
  <Fragment set:html={svgContent} />
</span>
